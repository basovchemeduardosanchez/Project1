<html><head>

    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Backpacker Assistant!</title>
    <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css">
    <script defer="" src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css"/>



    <style>
        .body{
            font-family: 'Anton', sans-serif;
            background-color: rgb(157, 219, 219);
        }
        .container{
            padding-top: 0px;
            text-align: center;
        }
        #column{
            background-color: rgb(26, 203, 235);
            color: rgb(10, 104, 33);
            padding-bottom: 50px;
            width: 400px;
            text-align: center;
        }
        .block{
            color: rgb(14, 112, 10);
            background-color: rgb(39, 231, 135);
        }
        #recomendations{
            text-align: center;
        }
        
        .subtitle{
            text-align: center;
            padding-top: 20px;
           
        }
        
    </style>
    <!-- Dropdown Menu -->
<head>
    <!-- Change to work with Bulma -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head>
</head>

<body class="body">
 <div class="container">
    <div class="hero is-primary">
        <div class="container">
            <h1 class="title is-1">
                WELCOME TO THE <strong>BACKPACKER ASSISTANT</strong>!
            </h1>
            <h1 class="subtitle is-4">CREATED JUST FOR YOU!</h1>
            <br>
        </div>
        <div id="countrypics"></div>
    </div>


    <div class="block">
        <div class="columns">
            <div class="column">
            <div class="hero-body">
            <h1 class="subtitle is-4">SEARCH YOUR COUNTRY INFORMATION HERE</h1>

<!-- ADDED COLOR AND SIZE TO THE H1 -->
            <h1 style="color:white;" class= "subtitle is-2">SEARCH YOUR COUNTRY INFORMATION HERE</h1>
            <input id="countryname">
            <button id="countrySearchBtn">Search Now</button>
            <h2 id="country"></h2>
            <h3 id="capital"></h3>
            <h3 id="language"></h3>
            <h3 id="currency"></h3>
            <h3 id="population"></h3>
            <img id="flag">
            </div>
        </div>
            <div id="column">
                <div class="card"></div>
                <div class="card-content" id="cityinfo">TOP 5 CITIES IN THIS COUNTRY
                </div>
                <h2 id="cityinfolist"></h2>
                    <h3 id="city1"></h3>
                    <h4 id="city1info"></h4>
                    <h3 id="city2"></h3>
                    <h4 id="city2info"></h4>
                    <h3 id="city3"></h3>
                    <h4 id="city3info"></h4>
                    <h3 id="city4"></h3>
                    <h4 id="city4info"></h4>
                    <h3 id="city5"></h3>
                    <h4 id="city5info"></h4>

                    <input id="citySearch"></input>
                    <button id="citySearchBtn">City Search</button>

            </div>
        </div>
    </div>
    <!-- SECTION Map Rendering -->
    <div id="map" style="width: 100%; height: 530px;"></div>
    <!-- !SECTION Map Rendering -->

    <!-- Dropdown Menu -->
    <div class="container">
        <h2>ALL THE INFO YOU NEED</h2>
        <p>Choose a category to find more information</p>                             
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Options
          <span class="caret"></span></button>
          <ul class="dropdown-menu">
            <!-- Character -->
              <a class="test" tabindex="-1" href="#">Character <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a id="character-Gay_friendly" href="#">Gay Friendly</a></li>
                <li><a id="character-Kid_friendly" href="#">Kid Friendly</a></li>
                <li><a id="character-Popular_with_locals" href="#">Popular with locals</a></li>
              </ul>
            <!-- To Do  -->
              <a class="test" tabindex="-1"  href="#">To Do <span class="caret"></span></a>
              <ul class="dropdown-menu a">
                <li><a href="#" id="beaches">Beaches</a></li>
                <li><a href="#" id="shopping">Shopping</a></li> 
                <li><a href="#" id="sports">Sports</a></li>
                <li><a href="#" id="wellness">Wellness</a></li> 
              </ul>
           <!-- Food and Drink  -->
            <a class="test" tabindex="-1" href="#">Food and Drink <span class="caret"></span></a>
            <ul class="dropdown-menu a">
              <li><a href="#" id="beaches">All</a></li>
              <li><a class="test" tabindex="-1" href="#">Type of Establishment<span class="caret"></span></a></li>
              <ul class="dropdown-submenu a">
                <li><a href="#" id="eatingout_establishment.breweries">Breweries</a></li>
                <li><a href="#" id="distilleries">Distilleries</a></li>
                <li><a href="#" id="bakery">Bakery</a></li>
                <li><a href="#" id="shopping">Bar</a></li> 
                <li><a href="#" id="beaches">Restaurant</a></li>
                <li><a href="#" id="beaches">Cafe</a></li>
                <li><a href="#" id="shopping">Wineries</a></li> 
              </ul>
        </ul>
      
            <!-- Accomodation  -->
            <a class="test" tabindex="-1"  href="#">Accomodation <span class="caret"></span></a>
            <ul class="dropdown-menu a">
              <li><a href="#" id="hotels">Accomodation</a></li> 
            </ul>
      
            <!-- Nightlife  -->
            <a class="test" tabindex="-1"  href="#">Nightlife <span class="caret"></span></a>
            <ul class="dropdown-menu a">
              <li><a href="#" id="cinema">Cinema</a></li> 
              <li><a href="#" id="drinks">Drinks</a></li> 
              <li><a href="#" id="dancing">Dancing</a></li> 
              <li><a href="#" id="redlight">Adults Only</a></li> 
            </ul>
      
            <!-- Practicalities  -->
            <a class="test" tabindex="-1"  href="#">Essentials <span class="caret"></span></a>
            <ul class="dropdown-menu a">
              <li><a href="#" id="groceries">Groceries</a></li> 
              <li><a href="#" id="health">Health</a></li> 
              <li><a href="#" id="money">Money</a></li> 
              <li><a href="#" id="safety">Safety</a></li> 
              <li><a href="#" id="touristinfo">Tourist Info</a></li> 
              <li><a href="#" id="transport">Transport</a></li> 
              <li><a href="#" id="visas">Visas</a></li> 
            </ul>
      
            <!-- Sightseeing  -->
            <a class="test" tabindex="-1"  href="#">Sightseeing <span class="caret"></span></a>
            <ul class="dropdown-menu a">
              <li><a href="#" id="sightseeing">All</a></li> 
            </ul>
      
            <!-- Sightseeing  -->
            <a class="test" tabindex="-1"  href="#">Tours <span class="caret"></span></a>
            <ul class="dropdown-menu a">
              <li><a href="#" id="tours">All</a></li> 
            </ul>
      
            </li>
          </ul>
        </div>
      </div>

    <!-- Displays info of what to do  -->
    </div>
    <h1 id="recomendations">HERE YOU GO!</h1>
    <div id="local" style="float: inline-end; background-color: rgb(193, 230, 230);">
      <h2 id="localinfo"></h2>
    
      
      </div>

    <div class="block">
            <h1 class="subtitle is-1">MUSTS FOR A BACKPACKER</h1>
            <div class="columns">
                <div class="column">
                    <div class="card">
                        <div class="card-content"> <h2 class="title">COMPARISON SITES</h2>
                            <p>Here is a list of the TOP 5 comparison sites for backpackers</p>
                            <div class="content">
                                <ol type="A">
                                  <li id="skyscanner"><a href="https://www.skyscanner.com">SKYSCANNER</a></li>
                                  
                                  <li id="kayak"><a href="https://www.kayak.com">KAYAK</a></li>
                                  
                                  <li id="edreams"><a href="https://www.edreams.com">EDREAMS</a></li>
                                  
                                  <li id="despegar"><a href="https://www.despegar.com">DESPEGAR</a></li>
                                  
                                  <li id="momondo"><a href="https://www.momondo.com">MOMONDO</a></li>
                                  
                                </ol>
                        </div>
                    </div>
                </div>
                </div>

                <div class="column">
                    <div class="card">
                        <div class="card-content"> <h2 class="title">WHERE TO STAY</h2>
                            <p>Here is a list of the TOP 3 accomodation sites for backpackers</p>
                            <div class="content">
                                <ol type="A">
                                  <li id="airbnb"><a href="https://www.airbnb.mx/">AIRBNB</a></li>
                                  
                                  <li id="HostelWorld"><a href="https://www.hostelworld.com">HOSTEL WORLD</a></li>
                                  
                                  <li id="CouchSurfing"><a href="https://www.couchsurfing.com/">COUCH SURFING</a></li>
                                
                                  
                                </ol>
                        </div>
                    </div>
                </div>
                </div>

                <div class="column">
                    <div class="card">
                        <div class="card-content"> <h2 class="title">INSURANCE AGENCIES</h2>
                            <p>Here is a list of the TOP 5 insurance agencies for backpackers</p>
                            <div class="content">
                                <ol type="A">
                                  <li id="AllianzGlobalAssistance"><a href="https://www.allianz-assistance.com.mx">Allianz Global Assistance</a></li>
                                  
                                  <li id="Amex Assurance"><a href="https://aeti.americanexpress.com/travel-insurance/home.do?inav=menu_travel_protection">Amex Assurance</a></li>
                                  
                                  <li id="Generali Global Assistance"><a href="https://www.generalitravelinsurance.com/">Generali Global Assistance</a></li>
                                  
                                  <li id="Seven Corners"><a href="https://www.sevencorners.com/">Seven Corners</a></li>
                                  
                                  <li id="Travelex"><a href="https://www.travelex.com/">Travelex</a></li>
                                  
                                </ol>
                        </div>
                    </div>
                </div>
            </div>
        
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.0.min.js" integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
<script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>    
<script src="js/MapQuest.js"></script>
<script type="text/javascript">
//ADDED COLOR AND FONT SIZE TO THE BUTTON   <button id="countrySearchBtn">Search Now</button> //
var allbuttonsTags = document.querySelectorAll("button");
allbuttonsTags[0].setAttribute("style", "background-color:blue; color:white; font-size:20px"); 

//DropDown functionality
$(document).ready(function(){
  $('.dropdown a.test').on("click", function(e){
    $(this).next('ul').toggle();
    e.stopPropagation();
    e.preventDefault();
  });
});

//Sub Dropdown
$(document).ready(function(){
  $('.dropdown-submenu a.test').on("click", function(e){
    $(this).next('ul').toggle();
    e.stopPropagation();
    e.preventDefault();
  });
});

    //Pictures
        var UnsplashSource = {
            getImageUrl: function( pSize, pKeywords ){
                // Generate a URL for Unsplash Source using the size
                lImageURL = 'https://source.unsplash.com/' + encodeURIComponent( pSize )  + '/?';
                // Travers the keywords array and add them separated by comma to the URL
                for ( var i = 0; i < pKeywords.length; i++ ){
                    // If this eciond or greaywtord hen add a comma
                    if ( i > 0 ){
                        lImageURL = lImageURL + ',';
                    }

                    // Add the keyword URL encoded for t not to cause problems if it has
                    // special characters
                    lImageURL = lImageURL + encodeURIComponent( pKeywords[ i ] );
                };

                // !! I found that when you use multiple images with
                // !! Unsplash Source you end up getting the same image
                // !! multiple times, I looked over the internet and found
                // !! the following link: 
                // !! https://github.com/unsplash/unsplash-source-js/issues/9
                // !! According to it the reason is that the browser caches
                // !! the request and it retrieves the files from the
                // !! browser cache. The comments in there recommends to add
                // !! a random number to the URL as `?sip=<RANDOM>` to get
                // !! rid of this error
                lImageURL = lImageURL + '&sip=' + encodeURIComponent( Math.random() );

                console.log( lImageURL );

                return lImageURL;
            },
            createImage: function( pSize, pKeywords ){
                // Create a jQuery image element
                return $( '<img>' )
                    // Add the first keyword to the alt attribute for accessibility
                    .attr( 'alt', pKeywords[ 0 ] )
                    // Add the generated URL as the src
                    .attr( 'src', this.getImageUrl( pSize, pKeywords ) );
            }
        };

//Country Search
        $( document ).ready( function(){
            $( "#countrySearchBtn" )
                .on( "click", function( pEvent ){
                    var countryInput = $("#countryname").val();
                    var lCountry = countryInput[0].toUpperCase() + countryInput.slice(1); //Capitalises the first letter
                
                    //$( "#countryname" ).val();
                    var lQueryURL = "https://restcountries.eu/rest/v2/name/" + lCountry;
                    var lNumberOfImages = 3;

                    $.ajax({
                        url: lQueryURL,
                        method: "GET"
                    })
                        .then( function( pResponse ) {


//Gives basic info on country
                            $( "#country" )
                                .text( "Country: " + pResponse[0].name );
                            $("#capital")
                                .text( "Capital: " + pResponse[0].capital );
                            $( "#language" )
                                .text(
                                    "Official Language Spoken: "
                                        + pResponse[0].languages[0].name
                                );
                            $( "#currency" )
                                .text(
                                    "Currency: " + pResponse[0].currencies[0].name + " " 
                                        + pResponse[0].currencies[0].symbol + " " 
                                        + pResponse[0].currencies[0].code
                                );
                            $( "#population" )
                                .text( "Population: " +  pResponse[0].population );
                            $( "#flag" )
                                .attr( "src", pResponse[0].flag );
                            $( "#flag" )
                                .css( {
                                    height: '60px',
                                    width: '60px'
                                } );

                            $( '#countrypics' )
                                .empty();
                            for ( var i = 0; i < lNumberOfImages; i++ ){
                                $( '#countrypics' )
                                    .append(
                                        UnsplashSource.createImage( '80x60', [ pResponse[0].name, pResponse[0].capital, 'landmark' ] )
                                    )
                            }
                            // Eduardo's additions
                            MapQuest.apiKey= "eM39yPb4tOGGelWAM4iuzTpK5S8d2Ike";
                            // This line call the function that is defined inside the library "js/MapQuest.js"
                            // The files usually have the same name as the variables to prevent looking for 
                            // hours the name of a variable
                            MapQuest.getAddressCoordinates( pResponse[0].capital + ", " + pResponse[0].name, function(pResponse){
                                console.log(pResponse); 
                                console.log(this);
                                $("#response").text(JSON.stringify(pResponse,null,4)); 
                                L.mapquest.key = MapQuest.apiKey ;
                                var map = L.mapquest.map('map', {
                                    // * We retrieve the data from the response and send is as a parameter
                                    // of the geolocation to mapquest.js
                                    center: [pResponse.lat, pResponse.lng],
                                    layers: L.mapquest.tileLayer('map'),
                                    zoom: 12
                                });
                                map.addControl(L.mapquest.control());
                            });  
//Kyle's addtions
var queryURL2 = "https://www.triposo.com/api/20200405/location.json?part_of=" + lCountry + "&tag_labels=city&count=10&fields=id,name,score,snippet&order_by=-score&account=EBIJUYBE&token=x12w6bi7kpp880qub7zb7ud5wdsnojzz"

$.ajax({
        url: queryURL2,
        method: "GET"
      }).then(function(response) {
        console.log(response)

        $("#cityinfolist").text("Top 5 cities in " + lCountry)
        $("#city1").text(response.results[0].name)
        $("#city1info").text(response.results[0].snippet)

        $("#city2").text(response.results[1].name)
        $("#city2info").text(response.results[1].snippet)

        $("#city3").text(response.results[2].name)
        $("#city3info").text(response.results[2].snippet)

        $("#city4").text(response.results[3].name)
        $("#city4info").text(response.results[3].snippet)

        $("#city5").text(response.results[4].name)
        $("#city5info").text(response.results[4].snippet)
    })


});


                        });
                })
    $(".dropdown-menu a[id]").on("click", function(){
        getTag($(this).attr("id"));

    })

    $(".dropdown-submenu a[id]").on("click", function(){
        getTag($(this).attr("id"));

    })
        function getTag(option){

            
          console.log(option);
  
    var cityInput = $("#citySearch").val();
    var city = cityInput[0].toUpperCase() + cityInput.slice(1);
    console.log(city)
      
      var queryURL3 = "https://www.triposo.com/api/20200405/poi.json?location_id=" + city + "&tag_labels=" + option +"&order_by=-score&fields=id,name,snippet&account=EBIJUYBE&token=x12w6bi7kpp880qub7zb7ud5wdsnojzz"
      
      $.ajax({
        url: queryURL3,
        method: "GET"
      }).then(function(response) {
        console.log(response)
        $("#localinfo").text("Enjoy these spots based on your search entry!")

        if(response.more == false){
                console.log("NO RESULTS found")}

        response.results.forEach(name => {                   
          var gem = $("<li>").text("Name :" + name.name)
          var geminfo = $("<p>").text("Info :" + name.snippet)


          $("#localinfo").append(gem)
          gem.append(geminfo)

          
        });

      })

}


    </script>
    



</body></html>